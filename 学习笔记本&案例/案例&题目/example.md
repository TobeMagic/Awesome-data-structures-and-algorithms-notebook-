åœ¨åˆ·é¢˜ä¹‹ä¸­ï¼Œæˆ‘å…ˆå¼•ç”¨ä»¥ä¸ºå¾ˆå‰å®³çš„ç®—æ³•å‰è¾ˆçš„ä¸€å¥è¯

> å…³äºé¢˜è§£å»ºè®®è¿™æ ·ä½¿ç”¨ï¼šå…ˆè‡ªå·±è¯»é¢˜ï¼Œæ€è€ƒå¦‚ä½•è§£é¢˜ã€‚å¦‚æœ **15 åˆ†é’Ÿ**è¿˜æ²¡æœ‰æ€è·¯ï¼Œé‚£ä¹ˆå…ˆçœ‹è§£é¢˜æ€è·¯ï¼Œä½†æ˜¯ä¸è¦çœ‹ä»£ç ã€‚æœ‰æ€è·¯ä»¥å**è‡ªå·±ç”¨ä»£ç å®ç°ä¸€é**ã€‚å¦‚æœå®Œå…¨ä¸ä¼šå†™ï¼Œé‚£å°±çœ‹ç¬”è€…æä¾›çš„ä»£ç ï¼Œ**æ‰¾å‡ºè‡ªå·±åˆ°åº•å“ªé‡Œä¸ä¼šå†™**ï¼Œæ‰¾å‡ºé—®é¢˜è®°ä¸‹æ¥ï¼Œè¿™å°±æ˜¯è‡ªå·±è¦å¼¥è¡¥çš„çŸ¥è¯†æ¼æ´ã€‚å¦‚æœè‡ªå·±å®ç°å‡ºæ¥äº†ï¼Œ**æäº¤ä»¥åæœ‰é”™è¯¯ï¼Œè‡ªå·±å…ˆ debug**ã€‚AC ä»¥åæ²¡æœ‰åˆ° 100% ä¹Ÿå…ˆè‡ªå·±**æ€è€ƒå¦‚ä½•ä¼˜åŒ–**ã€‚å¦‚æœæ¯é“é¢˜è‡ªå·±éƒ½èƒ½ä¼˜åŒ–åˆ° 100% äº†ï¼Œé‚£ä¹ˆä¸€æ®µæ—¶é—´ä»¥åè¿›æ­¥ä¼šå¾ˆå¤§ã€‚æ‰€ä»¥æ€»çš„æ¥è¯´ï¼Œå®åœ¨æ²¡æ€è·¯ï¼Œçœ‹è§£é¢˜æ€è·¯ï¼›**å®åœ¨ä¼˜åŒ–ä¸åˆ° 100%ï¼Œçœ‹çœ‹ä»£ç **ã€‚
>
> https://books.halfrost.com/leetcode/

#### [LCR 018. éªŒè¯å›æ–‡ä¸²](https://leetcode.cn/problems/XltzEq/)ï¼ˆé“¾è¡¨ ã€å­—ç¬¦ä¸²ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼‰

>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼ŒéªŒè¯ `s` æ˜¯å¦æ˜¯ **å›æ–‡ä¸²** ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚
>
>æœ¬é¢˜ä¸­ï¼Œå°†ç©ºå­—ç¬¦ä¸²å®šä¹‰ä¸ºæœ‰æ•ˆçš„ **å›æ–‡ä¸²** ã€‚
>
>
>
>**ç¤ºä¾‹ 1:**
>
>```
>è¾“å…¥: s = "A man, a plan, a canal: Panama"
>è¾“å‡º: true
>è§£é‡Šï¼š"amanaplanacanalpanama" æ˜¯å›æ–‡ä¸²
>```
>
>**ç¤ºä¾‹ 2:**
>
>```
>è¾“å…¥: s = "race a car"
>è¾“å‡º: false
>è§£é‡Šï¼š"raceacar" ä¸æ˜¯å›æ–‡ä¸²
>```
>
>
>
>**æç¤ºï¼š**
>
>- `1 <= s.length <= 2 * 105`
>- å­—ç¬¦ä¸² `s` ç”± ASCII å­—ç¬¦ç»„æˆ

è¿™é‡Œé€šè¿‡reæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç­›é€‰ï¼Œå…¶å®æœ‰ä¸€ä¸ªç°æˆçš„å†…ç½®å‡½æ•° - isalnum()ï¼ˆæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç”±å­—æ¯å’Œæ•°å­—ç»„æˆï¼‰

```python
class Solution:
    def isPalindrome(self, s: str) -> bool:
        re_s = str.lower("".join(re.findall("[0-9a-zA-Z]+", s))) # match the parten
        lens = len(re_s) 
        for i in range(int(lens/2)):
            if re_s[i] != re_s[lens -1 - i]: 
                return False
        return True
```

![image-20231129105438985](example.assets/image-20231129105438985.png)

è¯¥æ–¹æ³•é€šè¿‡ç´¢å¼•è¿›è¡Œéå†åˆ¤æ–­ï¼Œå…¶å®å¯ä»¥è¿ç”¨è¯­è¨€çš„åè£…è¯­å¥ï¼Œå¦‚æœäºŒè€…ç›¸åŒå³å¯

```python
class Solution:
    def isPalindrome(self, s: str) -> bool:
        re_s = str.lower("".join(re.findall("[0-9a-zA-Z]+", s)))
        return re_s == re_s[::-1]
```

åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šéœ€è¦æ‰«æå­—ç¬¦ä¸²ä¸º Oï¼ˆn), ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆn)

æ­¤å¤–è¿˜æœ‰åœ¨å­—ç¬¦ä¸²æœ¬èº«è¿›è¡Œæ“ä½œï¼Œä½¿å¾—ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰,ä¸»è¦æ˜¯æ“ä½œç´¢å¼•ï¼Œå¯è¯»æ€§å·®ä¸€ç‚¹ï¼Œåˆ¤æ–­æ¡ä»¶å’Œæ“ä½œè¾ƒå¤šï¼Œå¤æ‚åº¦ä¹Ÿæ¯”è¾ƒå¤§ä¸€ç‚¹

```python
class Solution:
    def isPalindrome(self, s: str) -> bool:
        lens = len(s)
        left, right = 0, lens - 1
        while (left < right): # stay cycle
            while left < right and not s[left].isalnum(): # judge
                left +=1
            while left < right and not s[right].isalnum():
                right -=1
            if s[left].lower() != s[right].lower() :
                return False
            left ,right = left +1,right-1
        return True
```

é™¤æ­¤ä¹‹å¤–ï¼Œå…¶è¿˜å¯ä»¥è”ç³»é“¾è¡¨çš„æ“ä½œï¼ˆåè½¬é“¾è¡¨ï¼Œå¿«æ…¢é“¾è¡¨æ­¥) ï¼Œä»¥åŠè”ç³»æ ˆï¼ˆå‰ä¸€åŠå…¥æ ˆå‡ºæ ˆå’ŒååŠéƒ¨åˆ†æ¯”è¾ƒ)

#### * [å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡](https://leetcode.cn/problems/find-pivot-index/) ï¼ˆä¸‹æ ‡å·¦è¾¹ä¹‹å’Œç­‰äºå³è¾¹ï¼‰ï¼ˆæ•°ç»„ + å‰ç¼€å’Œï¼‰

>  ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·è®¡ç®—æ•°ç»„çš„ **ä¸­å¿ƒä¸‹æ ‡** ã€‚
>
>  æ•°ç»„ **ä¸­å¿ƒä¸‹æ ‡** æ˜¯æ•°ç»„çš„ä¸€ä¸ªä¸‹æ ‡ï¼Œå…¶å·¦ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œç­‰äºå³ä¾§æ‰€æœ‰å…ƒç´ ç›¸åŠ çš„å’Œã€‚
>
>  å¦‚æœä¸­å¿ƒä¸‹æ ‡ä½äºæ•°ç»„æœ€å·¦ç«¯ï¼Œé‚£ä¹ˆå·¦ä¾§æ•°ä¹‹å’Œè§†ä¸º `0` ï¼Œå› ä¸ºåœ¨ä¸‹æ ‡çš„å·¦ä¾§ä¸å­˜åœ¨å…ƒç´ ã€‚è¿™ä¸€ç‚¹å¯¹äºä¸­å¿ƒä¸‹æ ‡ä½äºæ•°ç»„æœ€å³ç«¯åŒæ ·é€‚ç”¨ã€‚
>
>  å¦‚æœæ•°ç»„æœ‰å¤šä¸ªä¸­å¿ƒä¸‹æ ‡ï¼Œåº”è¯¥è¿”å› **æœ€é è¿‘å·¦è¾¹** çš„é‚£ä¸€ä¸ªã€‚å¦‚æœæ•°ç»„ä¸å­˜åœ¨ä¸­å¿ƒä¸‹æ ‡ï¼Œè¿”å› `-1` ã€‚
>
>  **ç¤ºä¾‹ 1ï¼š**
>
>  ```
>  è¾“å…¥ï¼šnums = [1, 7, 3, 6, 5, 6]
>  è¾“å‡ºï¼š3
>  è§£é‡Šï¼š
>  ä¸­å¿ƒä¸‹æ ‡æ˜¯ 3 ã€‚
>  å·¦ä¾§æ•°ä¹‹å’Œ sum = nums[0] + nums[1] + nums[2] = 1 + 7 + 3 = 11 ï¼Œ
>  å³ä¾§æ•°ä¹‹å’Œ sum = nums[4] + nums[5] = 5 + 6 = 11 ï¼ŒäºŒè€…ç›¸ç­‰ã€‚
>  ```
>
>  **ç¤ºä¾‹ 2ï¼š**
>
>  ```
>  è¾“å…¥ï¼šnums = [1, 2, 3]
>  è¾“å‡ºï¼š-1
>  è§£é‡Šï¼š
>  æ•°ç»„ä¸­ä¸å­˜åœ¨æ»¡è¶³æ­¤æ¡ä»¶çš„ä¸­å¿ƒä¸‹æ ‡ã€‚
>  ```
>
>  **ç¤ºä¾‹ 3ï¼š**
>
>  ```
>  è¾“å…¥ï¼šnums = [2, 1, -1]
>  è¾“å‡ºï¼š0
>  è§£é‡Šï¼š
>  ä¸­å¿ƒä¸‹æ ‡æ˜¯ 0 ã€‚
>  å·¦ä¾§æ•°ä¹‹å’Œ sum = 0 ï¼Œï¼ˆä¸‹æ ‡ 0 å·¦ä¾§ä¸å­˜åœ¨å…ƒç´ ï¼‰ï¼Œ
>  å³ä¾§æ•°ä¹‹å’Œ sum = nums[1] + nums[2] = 1 + -1 = 0 ã€‚
>  ```
>
>  **æç¤ºï¼š**
>
>  -  `1 <= nums.length <= 104`
>  -  `-1000 <= nums[i] <= 1000`

ä¸ªäººé¢˜è§£ï¼š

æˆ‘æœ€å¼€å§‹çš„åšæ³•æ˜¯å¾ˆç²—æš´çš„ï¼ŒæŒ‰ç…§çº¿æ€§æ€è·¯ä¸€ç›´å¾€ä¸‹æ¨ï¼Œå¹¶ä½¿ç”¨äº†sum() é¢‘ç¹æ±‚å’Œï¼Œæœ€ç»ˆè¿è¡Œæ—¶é—´è¶…æ—¶ï¼Œæ‰€ä»¥è¿™ä¸ªé¢˜ç›®åªèƒ½æ˜¯å°äº o(n^2) çš„ï¼Œå®˜æ–¹é¢˜è§£åˆ™æ˜¯æ ¹æ®é¢˜ç›®çš„å…¬å¼ï¼Œå¾—åˆ°äº†åªéœ€è¦æ ¹æ®å‰ç¼€å’Œå½“å‰å…ƒç´ ä¸æ€»å’Œçš„å…³ç³»å³å¯ï¼ˆä¼˜åŒ–äº†å…¬å¼ï¼Œä¸è¿‡å¦‚æœä¸çŸ¥é“é¢˜ç›®çš„å¯è¯»æ€§æŒºå·®çš„ï¼Œéš¾æ€ªæˆ‘ä¹‹å‰çœ‹æŸäº›æºç è´¹åŠ²è€åŠå¤©ï¼ŒåŸæ¥æ˜¯æˆ‘ç®—æ³•èƒ½åŠ›ä¸è¡ŒğŸ¤¦â€â™‚ï¸ï¼‰

è¿™æ˜¯æˆ‘çš„åˆå§‹ä»£ç 

```python
class Solution:
    def pivotIndex(self, nums: List[int]) -> int:
        length = len(nums)
        center = -1
        sum_left = 0
        sum_right = 0
        for i in range(length,0,-1): # æ³¨æ„è¿”å›çš„æ˜¯æœ€å·¦è¾¹çš„ï¼Œå¾ªç¯åº”è¯¥æ˜¯åå‘
            index = i - 1
            if index == 0:
                sum_left = 0
            else:
                sum_left = sum(nums[:index])
            if index == length-1: 
                sum_right  == 0
            else:
                sum_right = sum(nums[index + 1:]) 
            if (sum_left == sum_right):
                center = index # æ³¨æ„æ˜¯å·¦ä¾§æ‰€æœ‰å…ƒç´ å’Œå³ä¾§ï¼Œä¸åŒ…å«ä¸­å¿ƒä¸‹æ ‡å¯¹åº”çš„å€¼
        return center
```

-  >   å®˜æ–¹é¢˜è§£æ€è·¯æ˜¯ **å‰ç¼€å’Œ** ï¼ˆé€šè¿‡åŸé¢˜å…¬å¼åŒ–ç®€æ€è·¯ï¼‰

 <img src="example.assets/image-20231016085103371.png" alt="image-20231016085103371" style="zoom: 50%;" />

-  >   ä¼˜ç§€é¢˜è§£2 ï¼ˆä¹Ÿæ˜¯å®˜æ–¹é¢˜è§£çš„æ€è·¯ï¼Œä½†æå‡ºäº†`Presum`æ¦‚å¿µï¼‰

<img src="example.assets/image-20231016092543059.png" alt="image-20231016092543059" style="zoom:50%;" />

è§£é¢˜å‰ä¸€å®šè¦çœ‹å¥½æ•°æ®èŒƒå›´æ‰€å¯¼è‡´çš„æœ€ç»ˆè®¡ç®—é‡ï¼Œé€‰æ‹©å¤æ‚åº¦ç¬¦åˆçš„ç®—æ³•ã€‚

Presum æ–¹æ³•æ˜¯ä¸€ä¸ªè§£å†³æ™®éæ±‚å’Œä¸º O(N) å¤æ‚åº¦çš„ç®—æ³•ï¼ˆé¿å…å¾ªç¯åµŒå¥—å¤æ‚é«˜çš„é—®é¢˜ï¼‰ï¼Œå…¶é€šè¿‡æå‰ç®—å¥½å¯¹åº”çš„æ±‚å’Œå®ç°Oï¼ˆ1ï¼‰ç®—æ³•ï¼Œ

Presumå®ç°æµç¨‹å¦‚ä¸‹ï¼š

![303ï¼ŒpreSum.gif](example.assets/1614561004-TEQwGZ-303%EF%BC%8CpreSum.gif)

```python
N = len(nums)
preSum = range(N + 1)
for i in range(N):
    preSum[i + 1] = preSum[i] + nums[i]
print(preSum)
```

æœ€ç»ˆé¢˜è§£ä»£ç ï¼š

```python
class Solution:
    def pivotIndex(self, nums: List[int]) -> int:
        sums =  sum(nums) # åˆå§‹åŒ–
        pre_sum = 0
        for i in range(len(nums)):
            if sums == 2*pre_sum + nums[i]:
                return i # ä¸€é‡åˆ°å³å¯è¿”å›ï¼ˆç›¸æ¯”å€’åºå¾ªç¯ï¼Œæ›´ç®€æ´ï¼‰
            pre_sum += nums[i] # åŠ ä¸Šå½“å‰å…ƒç´ 
        return -1
```

![image-20231016134543430](example.assets/image-20231016134543430.png)

-  >   ä¼˜ç§€é¢˜è§£3 ( ä¼˜åŒ–æµç¨‹ï¼Œç®€åŒ–ä»£ç ï¼Œæ€è·¯å¾ˆç®€æ´æ¸…æ™°ï¼‰![img](example.assets/1656947339-ObGLSz-figures.gif)
   >
   >   

æ­¤å¤–æ›´ç»†èŠ‚çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘å¤§æ•°è¶Šç•Œé—®é¢˜ï¼Œé¢˜ç›®ç»™å®šæ•´æ•°æ•°ç»„ nums ï¼Œå¹¶ç»™å®šå–å€¼èŒƒå›´ã€‚

![image-20231016090147545](example.assets/image-20231016090147545.png)

æ€»çš„æ¥è¯´æœ€å¤§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æ•°å€¼ç›¸åŠ å’Œä¸º 10 ^ 7 ï¼Œæ‰€ä»¥ä½¿ç”¨intå³å¯ã€‚

```python
class Solution:
    def pivotIndex(self, nums: List[int]) -> int:
        sum_left, sum_right = 0, sum(nums) # åˆå§‹åŒ–
        for i in range(len(nums)):
            sum_right -= nums[i] # å‡å»å½“å‰å…ƒç´ 
            # è‹¥å·¦ä¾§å…ƒç´ å’Œç­‰äºå³ä¾§å…ƒç´ å’Œï¼Œè¿”å›ä¸­å¿ƒä¸‹æ ‡ i
            if sum_left == sum_right:
                return i # ä¸€é‡åˆ°å³å¯è¿”å›ï¼ˆç›¸æ¯”å€’åºå¾ªç¯ï¼Œæ›´ç®€æ´ï¼‰
            sum_left += nums[i] # åŠ ä¸Šå½“å‰å…ƒç´ 
        return -1
```

è¿™é‡Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n) ç©ºé—´å¤æ‚åº¦åˆ™æ˜¯ O(1) , ä½†æ˜¯è¯¥é¢˜è§£æœ€ç»ˆç»“æœå¦‚ä¸‹ï¼šï¼ˆè¿˜å¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼‰

![image-20231016092128529](example.assets/image-20231016092128529.png)

##### æ€»ç»“

è¿™ä¸€é¢˜å‘¢ç»™æˆ‘çš„æ€»ç»“æ˜¯ä¸¤æ–¹é¢ï¼Œè§£é¢˜çš„æ€è·¯è¿‡ç¨‹ï¼Œä»¥åŠä¸€äº›å°æŠ€å·§

è§£é¢˜æ€è·¯è¿‡ç¨‹ï¼š

1.  è¯¦ç»†é˜…è¯»é¢˜ç›®ï¼Œ**ä¸€ä¸€åˆ—å‡ºçº¦æŸå’Œæ¡ä»¶**
2.  ç¡®å®šæ˜¯**ä»€ä¹ˆé¢†åŸŸçš„æ–¹æ³•**ï¼Œå¦‚æŸ¥æ‰¾è¿˜æ˜¯è§„åˆ’
3.  è¯¦ç»†æŸ¥çœ‹é¢˜ç›®æ‰€ç»™æ•°æ®èŒƒå›´ç¡®å®š**æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦çš„è¦æ±‚**
4.  æ ¹æ®é¢˜ç›®çš„**è¦æ±‚åˆ—å‡ºå¯¹äºå˜é‡çš„æ•°å­¦å…¬å¼**ï¼Œç®€åŒ–ä»£ç ã€‚
5.  å°½å¯èƒ½çš„å¯»æ‰¾å„ç§æé™æ¡ä»¶ï¼Œç‰¹åˆ«æ˜¯æ•°ç»„è¶Šç•Œï¼Œå’Œ 0 .

åœ¨è§£é¢˜ä¸­å‘€å¦‚æœæˆ‘ä»¬åšä¸å‡ºæ¥æ—¶ï¼Œå»ºè®®åœ¨æç¤ºä¸­é¦–å…ˆï¼š

1.  æŸ¥çœ‹é¢˜ç›®æ ‡ç­¾ï¼Œçœ‹æ˜¯ä»€ä¹ˆåŸŸçš„æ–¹æ³•

![image-20231016140023160](example.assets/image-20231016140023160.png)

2.  æŸ¥çœ‹è‡³å°‘3ä»½é¢˜è§£ï¼Œå­¦ä¹ æ€è·¯

#### * æœç´¢æ’å…¥ä½ç½® ï¼ˆæŸ¥æ‰¾å€¼ï¼Œæ²¡æœ‰åˆ™æ’å…¥ï¼‰ ï¼ˆæ•°ç»„ + äºŒåˆ†æŸ¥æ‰¾ï¼‰

å¸¦ç€ç¬¬ä¸€é¢˜çš„ç»éªŒå¼€å§‹æ±‚è§£ç¬¬äºŒé¢˜å•¦

>  ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚
>
>  è¯·å¿…é¡»ä½¿ç”¨æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•ã€‚
>
>  
>
>  **ç¤ºä¾‹ 1:**
>
>  ```
>  è¾“å…¥: nums = [1,3,5,6], target = 5
>  è¾“å‡º: 2
>  ```
>
>  **ç¤ºä¾‹ 2:**
>
>  ```
>  è¾“å…¥: nums = [1,3,5,6], target = 2
>  è¾“å‡º: 1
>  ```
>
>  **ç¤ºä¾‹ 3:**
>
>  ```
>  è¾“å…¥: nums = [1,3,5,6], target = 7
>  è¾“å‡º: 4
>  ```
>
>  
>
>  **æç¤º:**
>
>  -  `1 <= nums.length <= 104`
>  -  `-104 <= nums[i] <= 104`
>  -  `nums` ä¸º **æ— é‡å¤å…ƒç´ ** çš„ **å‡åº** æ’åˆ—æ•°ç»„
>  -  `-104 <= target <= 104`

è§£é¢˜ï¼š

1.  çº¦æŸï¼š â‘  å¿…é¡»ä½¿ç”¨ o(log n ) , åœ¨æ’åºæ±‚è§£ä¸­é‚£ä¹ˆå°±æ˜¯äºŒåˆ†æŸ¥æ‰¾ç®—æ³•äº†

    â€‹             â‘¡ æ‰¾åˆ°åè¿”å›ä¸‹æ ‡ ï¼Œ æ²¡æ‰¾åˆ°è¿”å›å…¶åº”è¯¥æ’å…¥çš„ä¸‹æ ‡ï¼ˆå³å¦‚æœæ²¡æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œæ‰¾åˆ°æ¯”ç›®æ ‡å€¼å¤§çš„ä¸€ä¸ªå°±å¯ä»¥åœæ­¢äº†ï¼Œreturn å›æ¯”ç›®æ ‡å€¼å¤§çš„ä¸‹æ ‡. )

    â€‹			â‘¢ é»˜è®¤æ—¶å‡åº

2.  æ¯ä¸ªå€¼æœ€å¤§ä¸º 10^4  çš„ï¼Œintå³å¯ï¼Œ

3.  äºŒåˆ†æŸ¥æ‰¾ä¸­æ‰€éœ€è¦æ³¨æ„çš„ **å¥‡æ•°å’Œå¶æ•°**çš„ä¸‹æ ‡

ä¸ªäººåˆæ­¥é¢˜è§£

```python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        length = len(nums) # 1.5 -> 1
        left_index = 0
        right_index = length - 1 # æ³¨æ„é•¿åº¦
        middle_index = int((right_index - left_index)/2) + left_index
        while left_index != right_index:
            if target < nums[middle_index]:
                right_index = middle_index 
            elif target > nums[middle_index]: 
                left_index = middle_index  + 1 # å¤§äºéƒ½è¦é¢å¤–åŠ ä¸€   
            else: # ç›¸åŒ
                break
            middle_index = int((right_index - left_index)/2) + left_index
        if target > nums[middle_index]: # å³è¾¹è¶Šç•Œ
            middle_index += 1
        return middle_index
```

è¿™é“é¢˜å¯¹æˆ‘æ¥è¯´æˆ‘è§‰å¾—æˆ‘çš„ä¸¥é‡è¦æå‡çš„å°±æ˜¯**å…³äºä¸‹æ ‡çš„é—®é¢˜**ï¼Œè¢«å¼„å¾—å¾ˆæ··ä¹±ï¼Œå¯¼è‡´äº†ä¸€äº›åˆ¤æ–­ä¸æ­£ç¡®çš„æƒ…å†µï¼Œç‰¹åˆ«æ˜¯**å¥‡æ•°å’Œå¶æ•°ä¹‹é—´çš„ä¸­ä½æ•°é—®é¢˜**ï¼Œè¿˜æœ‰**è¾¹ç•Œé—®é¢˜**ï¼Œå°¤å…¶è¦æ³¨æ„ï¼Œå»ºè®®åœ¨åšé¢˜ç›®çš„æ—¶å€™åœ¨çº¸ä¸Šç»˜åˆ¶æµç¨‹å›¾å¯ä»¥æ›´åŠ ç›´è§‚ã€‚

ä¸¾ä¾‹è¯´å¯¹äºåˆ—è¡¨ [ 1, 3, 4, 5]

æˆ‘ä»¬ç€é‡åˆ†æ 1ï¼Œ 3    å’Œ  4ï¼Œ 5 è¿™ä¸¤ä¸ªåå‘ä¸¤ç«¯å³å¯ï¼Œå…¶ä¸­æˆ‘ä»¬æœ€åä¸€å®šè¦æ»¡è¶³left_index = right_index ï¼Œåœ¨å®é™…ä¸­å› ä¸ºæˆ‘ä»¬çš„middle æ˜¯å–å¾—åå‘å°çš„ï¼Œæ¯”å¦‚3.5å–3ï¼Œæ‰€ä»¥å¯¹åº”çš„åœ¨ç®—>å¾—æƒ…å†µä¸‹éœ€è¦åŠ 1ï¼Œå¹³è¡¡ä¸€ä¸‹ã€‚

![image-20231019213224634](example.assets/image-20231019213224634.png)



æˆ‘ä»¬çœ‹ä¸€ä¸‹åªç”¨äº† 0.104MBå¾—ä»£ç 

```python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        left, right = 0, len(nums)-1
        while left <= right: # ä¿è¯åœ¨å³è¾¹
            mid = (left + right) // 2 # å¾€ä¸‹æ•´é™¤
            if nums[mid] < target:
                left = mid + 1
            elif nums[mid] > target:
                right = mid - 1
            else:		
                return mid
        return left
```

è¿™ä¸ªä»£ç å®åœ¨æ˜¯ç²¾ç‚¼å¤ªå¤šäº†ï¼Œéœ€è¦å­¦ä¹ ï¼ï¼

#### * [åˆå¹¶åŒºé—´](https://leetcode.cn/problems/merge-intervals/) ï¼ˆæ’åº + äºŒç»´æ•°ç»„ï¼‰

>  ä»¥æ•°ç»„ `int	ervals` è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º `intervals[i] = [starti, endi]` ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› *ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´* ã€‚
>
>  **ç¤ºä¾‹ 1ï¼š**
>
>  ```
>  è¾“å…¥ï¼šintervals = [[1,3],[2,6],[8,10],[15,18]]
>  è¾“å‡ºï¼š[[1,6],[8,10],[15,18]]
>  è§£é‡Šï¼šåŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
>  ```
>
>  **ç¤ºä¾‹ 2ï¼š**
>
>  ```
>  è¾“å…¥ï¼šintervals = [[1,4],[4,5]]
>  è¾“å‡ºï¼š[[1,5]]
>  è§£é‡Šï¼šåŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚
>  ```
>
>  
>
>  **æç¤ºï¼š**
>
>  -  `1 <= intervals.length <= 104`
>  -  `intervals[i].length == 2`
>  -  `0 <= starti <= endi <= 104`

å•Šï¼Œæˆ‘çœŸæ˜¯å¤ªèœäº†ï¼Œä¸ªäººç¡¬åˆšäº†ä¸€ä¸ªæ™šä¸Šï¼Œè¿˜æ˜¯æ²¡åˆšå‡ºæ¥ï¼Œè¿™é‡Œå°±è®°å½•ä¸€ä¸‹å†™é¢˜é‡åˆ°çš„é—®é¢˜ã€‚

æˆ‘çš„åˆæ­¥æ€è·¯æ˜¯å°†æŒ‰ç…§æ¯ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹æ’åºåï¼Œä»åå‘å‰å¾ªç¯åˆå¹¶ï¼ˆä½¿ç”¨popå®ç°)ï¼Œè¿™æ ·å°±åªæœ‰ä¸‰ç§æƒ…å†µï¼Œ

1.  å½“å‰åŒºé—´è¢«ä¸‹ä¸€ä¸ªåŒºé—´åŒ…ä½ï¼Œåˆ é™¤å½“å‰åŒºé—´
2.  ä¸¤ä¸ªåŒºé—´é‡å è¿›è¡Œåˆå¹¶
3.  äºŒè€…ä¸é‡å ï¼Œä¿ç•™ï¼Œi + 1 ï¼ˆé—®é¢˜å‡ºç°åœ¨è¿™é‡Œï¼Œæœ‰å¯èƒ½å­˜åœ¨ è¿™æ ·ä¸€ä¸ªintervals = `[[1,10],[2,3][4,5]]`) è¿™æ ·çš„è¯åé¢çš„ [4,5] å°±ä¼šä¸€ç›´è¢«ä¿ç•™ï¼Œè€Œä¸æ˜¯åˆå¹¶ï¼Œæ‰€ä»¥éœ€è¦çœ‹åˆ°å…¨éƒ¨çš„åˆ—è¡¨åˆå¹¶.

>  -  å®˜æ–¹é¢˜è§£ (**æ’åº**)
>
>  **å¸¦æ•°å­¦è¯æ˜çš„æ°¸è¿œæ˜¯æœ€ç®€å•çš„è§£æ³•ï¼ï¼**
>
>  >  tips: å½“ä¸å¯ä»¥æ’åºçš„æ—¶å€™ è¿˜å¯ä»¥ç”¨ä¸ªç±»æŠŠåŒºé—´è£…è¿›å»ï¼Œç„¶åè‡ªå·±å®šä¹‰å®šä¹‰<é‡è½½ ç„¶åæ’åºï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨äº†Api
>
>  ç”¨å¾ªç¯çš„ç®—æ³•ï¼Œ**è¦å¤„ç†çš„å°±æ˜¯åˆå¹¶ä¸­æ˜¯ä¸æ˜¯è¿ç»­çš„**ï¼Œå¦åˆ™å•ä»å¾ªç¯æ— æ³•åˆå¹¶å…¨éƒ¨åŒºé—´ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹å›¾ï¼Œå¦‚æœa[i] ä¸a[j] æ— æ³•åˆå¹¶ä¸” a[j] ä¸ a[k] ä¹Ÿæ— æ³•åˆå¹¶ï¼Œé‚£ä¹ˆa[i] å’Œ a[k] å¿…ç„¶ä¹Ÿæ— æ³•åˆå¹¶
>
>  <img src="example.assets/image-20231025220442453.png" alt="image-20231025220442453" style="zoom: 50%;" />
>
>  ```python
>  class Solution:
>      def merge(self, intervals: List[List[int]]) -> List[List[int]]: 
>          intervals.sort(key=lambda x :x[0])
>  
>          merged = []
>          for interval in intervals:
>              if merged == [] or merged[-1][1] < interval[0]:
>                  merged.append(interval)
>              elif merged[-1][1] >= interval[0]:
>                  merged[-1][1] = max(merged[-1][1],interval[1]) # åŒºé—´é‡å ï¼Œè¦ä¹ˆæ˜¯å·¦è¾¹å¤§ï¼Œè¦ä¹ˆæ˜¯å³è¾¹å¤§
>          return merged
>  ```
>
>  ![image-20231026080236452](example.assets/image-20231026080236452.png)
>
>  æ—¶é—´å¤æ‚åº¦ï¼š*O*(*n*log*n*)ï¼Œå…¶ä¸­ n ä¸ºåŒºé—´çš„æ•°é‡ã€‚é™¤å»æ’åºçš„å¼€é”€ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€æ¬¡çº¿æ€§æ‰«æï¼Œæ‰€ä»¥ä¸»è¦çš„æ—¶é—´å¼€é”€æ˜¯æ’åºçš„ O(nlogn)ã€‚
>
>  ç©ºé—´å¤æ‚åº¦ï¼šO(logn)ï¼Œå…¶ä¸­ n ä¸ºåŒºé—´çš„æ•°é‡ã€‚è¿™é‡Œè®¡ç®—çš„æ˜¯å­˜å‚¨ç­”æ¡ˆä¹‹å¤–ï¼Œä½¿ç”¨çš„é¢å¤–ç©ºé—´ã€‚O(logn) å³ä¸ºæ’åºæ‰€éœ€è¦çš„ç©ºé—´å¤æ‚åº¦ã€‚(Timsort)

>  åˆå¹¶åŒºé—´é¢å¯¹åœ¨è§†é¢‘è£å‰ªçš„æ—¶å€™ï¼Œè·å–çš„æ•°æ®æºæ˜¯Nä¸ªç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µå°±æ˜¯æ—¶é—´æ•°ç»„ã€‚éœ€è¦æŠŠè¿™äº›ç‰‡æ®µè¿›è¡Œåˆå¹¶ï¼Œä½¿å¾—å¯¼å‡ºçš„è§†é¢‘çœ‹èµ·æ¥æ˜¯è¿è´¯çš„ï¼Œæ•…è¯¥è§£å†³åŠæ³•å°±æ˜¯åˆå¹¶åŒºé—´

>  -  ä¼˜ç§€é¢˜è§£
>
>  é€šè¿‡ä¸æ–­æ›´æ–°åŒºé—´çš„å³ç«¯ï¼Œç›´åˆ°æ— æ³•æ›´æ–°ä¸ºä¸€ä¸ªåŒºé—´
>
>  ```python
>  class Solution:
>      def merge(self, intervals: List[List[int]]) -> List[List[int]]:
>          intervals.sort(key=lambda x: x[0])
>          ans = []
>          n, i = len(intervals), 0
>          while i < n:
>              left, right = intervals[i]
>              while i < n - 1 and right >= intervals[i + 1][0]:
>                  # ä¸¤æ®µåŒºé—´å¯ä»¥è¿æ¥èµ·æ¥
>                  right = max(right, intervals[i + 1][1])
>                  i += 1
>              ans.append([left, right])
>              i += 1
>          return ans
>  ```
>
>  è¿™ä¸ªæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆn^2) ï¼Œç©ºé—´å¤æ‚åº¦é™¤äº†ç­”æ¡ˆé¢å¤–å­˜è´®åˆ™ä¸ºO (logn) 
>
>  ![image-20231026103443903](example.assets/image-20231026103443903.png)

>  å®é™…é¢˜ç›®ä¸­ï¼Œå¾€å¾€ä½¿ç”¨äºŒç»´æ•°ç»„å¤„ç†çŸ©é˜µç±»ç›¸å…³é—®é¢˜ï¼ŒåŒ…æ‹¬çŸ©é˜µæ—‹è½¬ã€å¯¹è§’çº¿éå†ï¼Œä»¥åŠå¯¹å­çŸ©é˜µçš„æ“ä½œç­‰

#### [ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/)

#### æ—‹è½¬çŸ©é˜µ  ï¼ˆæ—‹è½¬90Â°ï¼‰ï¼ˆäºŒç»´æ•°ç»„ã€çŸ©é˜µã€æ•°å­¦ï¼‰

>  ç»™ä½ ä¸€å¹…ç”± `N Ã— N` çŸ©é˜µè¡¨ç¤ºçš„å›¾åƒï¼Œå…¶ä¸­æ¯ä¸ªåƒç´ çš„å¤§å°ä¸º 4 å­—èŠ‚ã€‚è¯·ä½ è®¾è®¡ä¸€ç§ç®—æ³•ï¼Œå°†å›¾åƒæ—‹è½¬ 90 åº¦ã€‚
>
>  **ä¸å ç”¨é¢å¤–å†…å­˜ç©ºé—´èƒ½å¦åšåˆ°**ï¼Ÿï¼ˆåœ¨æœ¬èº«è¿›è¡Œå˜æ¢ï¼‰
>
>  **ç¤ºä¾‹ 1:**
>
>  ```
>  ç»™å®š matrix = 
>  [
>  [1,2,3],
>  [4,5,6],
>  [7,8,9]
>  ],
>  
>  åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:
>  [
>  [7,4,1],
>  [8,5,2],
>  [9,6,3]
>  ]
>  ```
>
>  **ç¤ºä¾‹ 2:**
>
>  ```
>  ç»™å®š matrix =
>  [
>  [ 5, 1, 9,11],
>  [ 2, 4, 8,10],
>  [13, 3, 6, 7],
>  [15,14,12,16]
>  ], 
>  
>  åŸåœ°æ—‹è½¬è¾“å…¥çŸ©é˜µï¼Œä½¿å…¶å˜ä¸º:
>  [
>  [15,13, 2, 5],
>  [14, 3, 4, 1],
>  [12, 6, 8, 9],
>  [16, 7,10,11]
>  ]
>  ```

å‚è€ƒé¢˜è§£ï¼š https://leetcode.cn/problems/rotate-matrix-lcci/solutions/1137482/mian-shi-ti-0107-xuan-zhuan-ju-zhen-yuan-8id6/

<img src="example.assets/1638557961-AVzCQb-ccw-01-07.001.png" alt="ccw-01-07.001.png" style="zoom: 33%;" />

è¿™å¼ å›¾ç‰‡éå¸¸å¥½ä»è¡Œå’Œåˆ—çš„è§’åº¦è®²è§£äº†ç›¸åº”å…³ç³»ï¼Œå®åœ¨å¤ªèµäº†ï¼Œæˆ‘ä»¬è¿™æ ·å°±å¯ä»¥é€šè¿‡ä¸€ä¸ªè¾…åŠ©çŸ©é˜µå¾—åˆ°ç»“æœï¼Œä»¥ä¸‹æ˜¯åŒO(n2)çš„ä»£ç 

```python
class Solution:
    def rotate(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        lens = len(matrix)
        temp = copy.deepcopy(matrix)
        for i in range(lens):
            for j in range(lens):
                matrix[i][j] = temp[lens - j - 1][i]	
```

æˆ‘ä»¬æ¥ä¸‹æ¥æ¢è®¨ä¸€ä¸‹é€šè¿‡åœ¨åŸçŸ©é˜µä¸­ç›´æ¥ã€ŒåŸåœ°ä¿®æ”¹ã€ï¼Œå®ç°ç©ºé—´å¤æ‚åº¦*O*(1) çš„è§£æ³•ã€‚

![ccw-01-07.002.png](example.assets/1638557961-BSxFQQ-ccw-01-07.002.png)

è¿™é‡Œæˆ‘å†å¼€å§‹çš„æ—¶å€™æ€ç»´ä¸å¯¹ï¼Œæˆ‘æ˜¯ç”±é¡ºæ—¶é’ˆçš„è¿™æ ·çš„è¯ A - B -C -D,æ¯ä¸€æ¬¡å¤åˆ¶éƒ½ä¼šæ”¹å˜è¿™æ ·åœ¨A-Bçš„æ—¶å€™æˆ‘éœ€è¦å­˜è´®Bï¼Œåœ¨B-Cæ—¶å€™éœ€è¦è°ƒç”¨å­˜è´®Bçš„ä¸´æ—¶å˜é‡ï¼Œå¹¶åŒæ—¶éœ€è¦å­˜è´®Cï¼Œè¿™æ ·åœ¨æ“ä½œæ–¹æ³•ååˆ†å›°éš¾ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ€ç»´å°±å¥½ï¼Œæˆ‘ä»¬é€†å‘ï¼Œ  A - B  , D- A, C -D ,B -C , è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦å­˜è´®Bä¸€ä¸ªä¸´æ—¶å˜é‡å°±å¥½ï¼ˆå› ä¸ºBåœ¨æœ€åæ‰è¢«ç”¨äºèµ‹å€¼ï¼‰

æˆ‘ä»¬åœ¨è§‚å¯Ÿä¸­å¯ä»¥å‘ç°ï¼Œåœ¨æ—‹è½¬ä¸­å‘ç”Ÿäº†å››æ¬¡äº¤æ¢ï¼Œæ­¤æ—¶åªéœ€è¦åœ¨ çŸ©é˜µåˆ—å’Œè¡Œä¸ªæ•°çš„ 1/2ä¸‹çš„å„è‡ªè¿›è¡Œä¸€æ¬¡äº¤æ¢å³å¯ã€‚æ³¨æ„å¶æ•°è¡Œåˆ—æ•°å’Œå¥‡æ•°è¡Œåˆ—æ•°çš„åŒºåˆ«ï¼ˆå¥‡æ•°ä¼šé‡å¤æ—‹è½¬å¤šä¸€æ¬¡ï¼‰ï¼Œ

è¿™ä¸ªæ—¶å€™é¢å¯¹é‡å¤çš„æƒ…å†µï¼Œåªéœ€è¦è¡Œå¾ªç¯ä¸­ - 1å³å¯ï¼ˆå¦‚ä¸‹å›¾ï¼‰

<img src="example.assets/image-20231126194614984.png" alt="image-20231126194614984" style="zoom:33%;" />

```python
class Solution:
    def rotate(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        lens = len(matrix)
        ran = int((lens + 1)/2)
        if lens % 2 ==0:
            recle = ran
        else:
            recle = ran - 1
        for r in range(recle):
            for c in range(ran):
                temp = matrix[c][lens - r -1]
                matrix[c][lens - r - 1] = matrix[r][c]
                matrix[r][c] = matrix[lens -c -1][r]
                matrix[lens -c-1][r] = matrix[lens -r-1][lens -c-1]
                matrix[lens -r-1][lens -c-1] = temp
```

<img src="example.assets/image-20231126202438974.png" alt="image-20231126202438974" style="zoom:50%;" />

è¿‡å•¦ï¼ï¼ï¼

#### è¿›åˆ¶è½¬æ¢

#### [å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°](https://leetcode.cn/problems/median-of-two-sorted-arrays/)